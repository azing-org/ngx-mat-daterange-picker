{"version":3,"file":"ngx-mat-daterange-picker.js.map","sources":["ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/services/range-store.service.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/services/config-store.service.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/picker-overlay/picker-overlay.animations.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/picker-overlay/picker-overlay.component.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/services/calendar-overlay.service.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/ngx-mat-drp/ngx-mat-drp.component.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/calendar-wrapper/calendar-wrapper.component.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/presets/presets.component.ts","ng://ngx-mat-daterange-picker/src/app/modules/ngx-mat-drp/ngx-mat-drp.module.ts"],"sourcesContent":["import { Injectable, Inject, InjectionToken } from '@angular/core';\r\nimport { Range } from '../model/model';\r\nimport { Subject } from 'rxjs';\r\n/* import { DATE } from '../ngx-drp.module'; */\r\n\r\nexport const DATE = new InjectionToken<Date>('date');\r\n\r\n@Injectable()\r\nexport class RangeStoreService {\r\n  rangeUpdate$: Subject<Range> = new Subject<Range>();\r\n\r\n  constructor(\r\n    @Inject(DATE) private _fromDate: Date,\r\n    @Inject(DATE) private _toDate: Date\r\n  ) {}\r\n\r\n  /* set fromDate(fromDate:Date) {\r\n    this._fromDate = fromDate;\r\n  } */\r\n\r\n  get fromDate(): Date {\r\n    return this._fromDate;\r\n  }\r\n\r\n  /* set toDate(toDate:Date) {\r\n    this._toDate = toDate;\r\n  } */\r\n\r\n  get toDate(): Date {\r\n    return this._toDate;\r\n  }\r\n\r\n  updateRange(fromDate: Date = this._fromDate, toDate: Date = this._toDate) {\r\n    this._fromDate = fromDate;\r\n    this._toDate = toDate;\r\n    this.rangeUpdate$.next({ fromDate: this._fromDate, toDate: this._toDate });\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { NgxDrpOptions } from '../model/model';\r\n\r\n@Injectable()\r\nexport class ConfigStoreService {\r\n  private _ngxDrpOptions: NgxDrpOptions;\r\n  private defaultOptions = {\r\n    excludeWeekends: false,\r\n    animation: true,\r\n    locale: 'en-US',\r\n    fromMinMax: { fromDate: null, toDate: null },\r\n    toMinMax: { fromDate: null, toDate: null },\r\n    rangeLabel: 'Add End-Date',\r\n    singleDate: true, // false = dateRange\r\n  };\r\n\r\n  constructor() {}\r\n\r\n  get ngxDrpOptions(): NgxDrpOptions {\r\n    return this._ngxDrpOptions;\r\n  }\r\n\r\n  set ngxDrpOptions(options: NgxDrpOptions) {\r\n    this._ngxDrpOptions = { ...this.defaultOptions, ...options };\r\n  }\r\n}\r\n","import {\r\n  animate,\r\n  state,\r\n  style,\r\n  transition,\r\n  trigger,\r\n  AnimationTriggerMetadata,\r\n  group\r\n} from '@angular/animations';\r\n\r\nexport const pickerOverlayAnimations: {\r\n  readonly transformPanel: AnimationTriggerMetadata;\r\n} = {\r\n  /** Transforms the height of the picker overlay content. */\r\n  transformPanel: trigger('transformPickerOverlay', [\r\n    state('void', style({opacity: 0, transform: 'scale(1, 0)'})),\r\n    state('enter', style({opacity: 1, transform: 'scale(1, 1)'})),\r\n    transition('void => enter', group([\r\n      animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)')\r\n    ])),\r\n    transition('* => void', animate('100ms linear', style({opacity: 0})))\r\n  ])\r\n};\r\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { PresetItem, NgxDrpOptions } from '../model/model';\r\nimport { RangeStoreService } from '../services/range-store.service';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { ConfigStoreService } from '../services/config-store.service';\r\nimport { pickerOverlayAnimations } from './picker-overlay.animations';\r\n\r\n@Component({\r\n  selector: 'ngx-mat-drp-picker-overlay',\r\n  templateUrl: './picker-overlay.component.html',\r\n  styleUrls: ['./picker-overlay.component.css'],\r\n  animations: [pickerOverlayAnimations.transformPanel],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class PickerOverlayComponent implements OnInit {\r\n  fromDate: Date;\r\n  toDate: Date;\r\n  fromMinDate: Date;\r\n  fromMaxDate: Date;\r\n  toMinDate: Date;\r\n  toMaxDate: Date;\r\n  presets: Array<PresetItem> = [];\r\n  startDatePrefix: string;\r\n  endDatePrefix: string;\r\n  applyLabel: string;\r\n  rangeLabel: string;\r\n  cancelLabel: string;\r\n  shouldAnimate: string;\r\n  singleDate: boolean;\r\n\r\n  constructor(\r\n    private rangeStoreService: RangeStoreService,\r\n    private configStoreService: ConfigStoreService,\r\n    private overlayRef: OverlayRef\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.fromDate = this.rangeStoreService.fromDate;\r\n    this.toDate = this.rangeStoreService.toDate;\r\n    this.startDatePrefix = this.configStoreService.ngxDrpOptions.startDatePrefix || 'FROM:';\r\n    this.endDatePrefix = this.configStoreService.ngxDrpOptions.endDatePrefix || 'TO:';\r\n    this.applyLabel = this.configStoreService.ngxDrpOptions.applyLabel || 'Apply';\r\n    this.cancelLabel = this.configStoreService.ngxDrpOptions.cancelLabel || 'Cancel';\r\n    this.presets = this.configStoreService.ngxDrpOptions.presets;\r\n    this.shouldAnimate = this.configStoreService.ngxDrpOptions.animation\r\n      ? 'enter'\r\n      : 'noop';\r\n    ({\r\n      fromDate: this.fromMinDate,\r\n      toDate: this.fromMaxDate\r\n    } = this.configStoreService.ngxDrpOptions.fromMinMax);\r\n    ({\r\n      fromDate: this.toMinDate,\r\n      toDate: this.toMaxDate\r\n    } = this.configStoreService.ngxDrpOptions.toMinMax);\r\n    this.setSingleDate(this.configStoreService.ngxDrpOptions.singleDate);\r\n  }\r\n\r\n  updateFromDate(date) {\r\n    this.fromDate = date;\r\n    // In single-date mode, on click a date in the calendar, the picker closes.\r\n    if (this.singleDate) { this.applyNewDates(null); }\r\n  }\r\n\r\n  updateToDate(date) {\r\n    this.toDate = date;\r\n  }\r\n\r\n  updateRangeByPreset(presetItem: PresetItem) {\r\n    this.updateFromDate(new Date(presetItem.range.fromDate));\r\n\r\n    // In single-date mode, on click preset button, the picker closes.\r\n    if (this.singleDate) { this.applyNewDates(void 0); }\r\n  }\r\n\r\n  applyNewDates(e) {\r\n    this.rangeStoreService.updateRange(this.fromDate, this.configStoreService.ngxDrpOptions.singleDate ? null : this.toDate);\r\n    this.disposeOverLay();\r\n  }\r\n\r\n  addEndDate(e) {\r\n    this.configStoreService.ngxDrpOptions.singleDate = !this.configStoreService.ngxDrpOptions.singleDate;\r\n    this.setSingleDate(this.configStoreService.ngxDrpOptions.singleDate);\r\n  }\r\n  discardNewDates(e) {\r\n    // this.rangeStoreService.updateRange();\r\n    this.disposeOverLay();\r\n  }\r\n\r\n  private disposeOverLay() {\r\n    this.overlayRef.dispose();\r\n  }\r\n\r\n  private setSingleDate(singleDate: boolean) {\r\n    this.singleDate = singleDate;\r\n    this.rangeLabel = this.getRangeLabel(singleDate);\r\n  }\r\n  private getRangeLabel(singleDate: boolean): string {\r\n    if (!!singleDate) {\r\n      return this.configStoreService.ngxDrpOptions.addEndDateLabel || 'Add End-Date';\r\n    } else {\r\n      return this.configStoreService.ngxDrpOptions.removeEndDateLabel || 'Remove End-Date';\r\n    }\r\n  }\r\n}\r\n","import { Injectable, ElementRef, Injector } from '@angular/core';\r\nimport { Overlay, OverlayConfig, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal, PortalInjector } from '@angular/cdk/portal';\r\nimport { NgxDrpOptions, CalendarOverlayConfig } from '../model/model';\r\nimport { takeWhile } from 'rxjs/operators';\r\nimport { PickerOverlayComponent } from '../picker-overlay/picker-overlay.component';\r\n\r\nconst DEFAULT_CONFIG: CalendarOverlayConfig = {\r\n  panelClass: 'ngx-mat-drp-overlay',\r\n  hasBackdrop: true,\r\n  backdropClass: 'ngx-mat-drp-overlay-backdrop',\r\n  shouldCloseOnBackdropClick: true\r\n};\r\n\r\n@Injectable()\r\nexport class CalendarOverlayService {\r\n  private hostElemRef: ElementRef;\r\n\r\n  constructor(private overlay: Overlay, private injector: Injector) {}\r\n\r\n  open(\r\n    config: CalendarOverlayConfig = {},\r\n    hostElemRef: ElementRef\r\n  ): OverlayRef {\r\n    this.hostElemRef = hostElemRef;\r\n    const overlayConfig = { ...DEFAULT_CONFIG, ...config };\r\n    const overlayRef = this.createOverlay(overlayConfig);\r\n    const portalInjector = this.createInjector(overlayRef);\r\n    const calendarPortal = new ComponentPortal(\r\n      PickerOverlayComponent,\r\n      null,\r\n      portalInjector\r\n    );\r\n    overlayRef.attach(calendarPortal);\r\n\r\n    overlayRef\r\n      .backdropClick()\r\n      .pipe(takeWhile(() => overlayConfig.shouldCloseOnBackdropClick))\r\n      .subscribe(() => overlayRef.dispose());\r\n\r\n    return overlayRef;\r\n  }\r\n\r\n  private createOverlay(config: CalendarOverlayConfig): OverlayRef {\r\n    const overlayConfig = this.getOverlayConfig(config);\r\n    return this.overlay.create(overlayConfig);\r\n  }\r\n\r\n  private getOverlayConfig(config: CalendarOverlayConfig): OverlayConfig {\r\n    const positionStrategy = this.overlay\r\n      .position()\r\n      .flexibleConnectedTo(this.hostElemRef)\r\n      .withFlexibleDimensions(false)\r\n      .withViewportMargin(8)\r\n      .withDefaultOffsetY(12)\r\n      .withPositions([\r\n        {\r\n          originX: 'start',\r\n          originY: 'bottom',\r\n          overlayX: 'start',\r\n          overlayY: 'top'\r\n        },\r\n        {\r\n          originX: 'start',\r\n          originY: 'top',\r\n          overlayX: 'start',\r\n          overlayY: 'bottom'\r\n        },\r\n        {\r\n          originX: 'end',\r\n          originY: 'bottom',\r\n          overlayX: 'end',\r\n          overlayY: 'top'\r\n        },\r\n        {\r\n          originX: 'end',\r\n          originY: 'top',\r\n          overlayX: 'end',\r\n          overlayY: 'bottom'\r\n        }\r\n      ]);\r\n\r\n    const overlayConfig = new OverlayConfig({\r\n      hasBackdrop: config.hasBackdrop,\r\n      backdropClass: config.backdropClass,\r\n      panelClass: config.panelClass,\r\n      scrollStrategy: this.overlay.scrollStrategies.block(),\r\n      positionStrategy\r\n    });\r\n\r\n    return overlayConfig;\r\n  }\r\n\r\n  private createInjector(overlayRef: OverlayRef): PortalInjector {\r\n    const injectionTokens = new WeakMap();\r\n    injectionTokens.set(OverlayRef, overlayRef);\r\n\r\n    return new PortalInjector(this.injector, injectionTokens);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  OnDestroy,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { DatePipe } from '@angular/common';\r\nimport { OverlayRef } from '@angular/cdk/overlay';\r\nimport { CalendarOverlayService } from '../services/calendar-overlay.service';\r\nimport { RangeStoreService } from '../services/range-store.service';\r\nimport { Range, NgxDrpOptions } from '../model/model';\r\nimport { ConfigStoreService } from '../services/config-store.service';\r\nimport { Subscription } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'ngx-mat-drp',\r\n  templateUrl: './ngx-mat-drp.component.html',\r\n  styleUrls: ['./ngx-mat-drp.component.css'],\r\n  providers: [\r\n    CalendarOverlayService,\r\n    RangeStoreService,\r\n    ConfigStoreService,\r\n    DatePipe\r\n  ],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class NgxMatDrpComponent implements OnInit, OnDestroy {\r\n  @ViewChild('calendarInput')\r\n  calendarInput;\r\n  @Output()\r\n  readonly selectedDateRangeChanged: EventEmitter<Range> = new EventEmitter<Range>();\r\n  @Input()\r\n  options: NgxDrpOptions;\r\n  private rangeUpdate$: Subscription;\r\n  selectedDateRange = '';\r\n\r\n  constructor(\r\n    private changeDetectionRef: ChangeDetectorRef,\r\n    private calendarOverlayService: CalendarOverlayService,\r\n    public rangeStoreService: RangeStoreService,\r\n    public configStoreService: ConfigStoreService,\r\n    private datePipe: DatePipe\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.configStoreService.ngxDrpOptions = this.options;\r\n    this.options.placeholder = this.options.placeholder || 'Choose a date';\r\n    this.rangeUpdate$ = this.rangeStoreService.rangeUpdate$.subscribe(range => {\r\n      const from: string = this.formatToDateString(\r\n        range.fromDate,\r\n        this.options.format\r\n      );\r\n      const to: string = this.formatToDateString(\r\n        range.toDate,\r\n        this.options.format\r\n      );\r\n      if (this.configStoreService.ngxDrpOptions.singleDate) {\r\n        this.selectedDateRange = `${from}`;\r\n      } else {\r\n        this.selectedDateRange = `${from} - ${to}`;\r\n      }\r\n      this.selectedDateRangeChanged.emit(range);\r\n    });\r\n\r\n    this.rangeStoreService.updateRange(\r\n      this.options.range.fromDate,\r\n      this.options.range.toDate\r\n    );\r\n    this.changeDetectionRef.detectChanges();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.rangeUpdate$) {\r\n      this.rangeUpdate$.unsubscribe();\r\n    }\r\n  }\r\n\r\n  private formatToDateString(date: Date, format: string): string {\r\n    return this.datePipe.transform(date, format);\r\n  }\r\n\r\n  openCalendar(event) {\r\n    const overlayRef: OverlayRef = this.calendarOverlayService.open(\r\n      this.options.calendarOverlayConfig,\r\n      this.calendarInput\r\n    );\r\n  }\r\n\r\n  public resetDates(range: Range) {\r\n    this.rangeStoreService.updateRange(\r\n      range.fromDate,\r\n      range.toDate\r\n    );\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  ViewChild,\r\n  Output,\r\n  Input,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  OnChanges,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { MatCalendar, MatCalendarCellCssClasses } from '@angular/material/datepicker';\r\nimport { ConfigStoreService } from '../services/config-store.service';\r\n\r\n@Component({\r\n  selector: 'calendar-wrapper',\r\n  templateUrl: './calendar-wrapper.component.html',\r\n  styleUrls: ['./calendar-wrapper.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CalendarWrapperComponent implements OnChanges {\r\n  @ViewChild(MatCalendar)\r\n  matCalendar: MatCalendar<Date>;\r\n\r\n  @Output()\r\n  readonly selectedDateChange: EventEmitter<Date> = new EventEmitter<Date>();\r\n\r\n  dateFormat: string;\r\n  @Input() selectedDate: Date;\r\n  @Input() prefixLabel: string;\r\n  @Input() minDate: Date;\r\n  @Input() maxDate: Date;\r\n\r\n  /**\r\n   * If selectedDate is before fromDate, mark the selectedDate date in red.\r\n   */\r\n  @Input() fromDate: Date;\r\n  weekendFilter = (d: Date) => true;\r\n\r\n  constructor(private configStore: ConfigStoreService) {\r\n    this.dateFormat = configStore.ngxDrpOptions.format;\r\n    if (configStore.ngxDrpOptions.excludeWeekends) {\r\n      this.weekendFilter = (d: Date): boolean => {\r\n        const day = d.getDay();\r\n        return day !== 0 && day !== 6;\r\n      };\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (!!changes.selectedDate) {\r\n      // Necessary to force view refresh.\r\n      this.matCalendar.activeDate = changes.selectedDate.currentValue;\r\n    }\r\n\r\n    if (!!changes.fromDate) {\r\n      // Force rendering.\r\n      this.renderMatCalendarView();\r\n    }\r\n  }\r\n\r\n  onSelectedChange(date) {\r\n    this.selectedDateChange.emit(date);\r\n  }\r\n\r\n  onYearSelected(e) {}\r\n\r\n  onUserSelection(e) {}\r\n\r\n  dateClass() {\r\n    return (date: Date): MatCalendarCellCssClasses => {\r\n      if (!this.fromDate) { return; }\r\n      if (this.fromDate <= date) { return; }\r\n      // console.log('stv date', date);\r\n      // selectedDate is before fromDate\r\n      return 'before-from-date';\r\n    };\r\n  }\r\n\r\n  // force rendering\r\n  private renderMatCalendarView() {\r\n    // Store initial value.\r\n    const minDate = this.minDate;\r\n\r\n    // Change to any date, only to force rendering.\r\n    this.minDate = new Date('2001-01-01');\r\n\r\n    // Wait to change-detection function has terminated to execute a new change to force rendering the rows and cells.\r\n    setTimeout(() => {\r\n      this.minDate = minDate; // Restore initial value.\r\n    }, 0);\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n  Input,\r\n  ChangeDetectionStrategy,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { PresetItem } from '../model/model';\r\n\r\n@Component({\r\n  selector: 'mat-drp-presets',\r\n  templateUrl: './presets.component.html',\r\n  styleUrls: ['./presets.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class PresetsComponent implements OnInit {\r\n  @Input()\r\n  presets: Array<PresetItem>;\r\n  @Output()\r\n  readonly presetChanged: EventEmitter<any> = new EventEmitter<any>();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n\r\n  setPresetPeriod(event) {\r\n    this.presetChanged.emit(event);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgxMatDrpComponent } from './ngx-mat-drp/ngx-mat-drp.component';\r\nimport { PickerOverlayComponent } from './picker-overlay/picker-overlay.component';\r\n\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatDatepickerModule } from '@angular/material/datepicker';\r\nimport { MatNativeDateModule } from '@angular/material/core';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\n\r\nimport { CalendarWrapperComponent } from './calendar-wrapper/calendar-wrapper.component';\r\nimport { PresetsComponent } from './presets/presets.component';\r\nimport { DATE } from './services/range-store.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatFormFieldModule,\r\n    MatDatepickerModule,\r\n    MatNativeDateModule,\r\n    MatInputModule,\r\n    MatButtonModule,\r\n    MatTooltipModule,\r\n    OverlayModule\r\n  ],\r\n  declarations: [\r\n    NgxMatDrpComponent,\r\n    CalendarWrapperComponent,\r\n    PickerOverlayComponent,\r\n    PresetsComponent\r\n  ],\r\n  providers: [\r\n    {provide: DATE, useValue: new Date()}\r\n  ],\r\n  entryComponents: [PickerOverlayComponent],\r\n  exports: [NgxMatDrpComponent]\r\n})\r\nexport class NgxMatDrpModule { }\r\n"],"names":[],"mappings":"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"}
